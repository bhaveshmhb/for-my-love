<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For my Babyü©∑</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

html,body{
height:100%;
background:#000;
overflow:hidden;
font-family:'Poppins',sans-serif;
}

/* ========== OPENING SEQUENCE ========== */

#story{
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%) scale(.85);
width:min(90%,750px);
text-align:center;
color:#fff;
font-family:'Great Vibes',cursive;
font-size:clamp(38px,7vw,80px);
line-height:1.25;
z-index:20;
opacity:0;
transition:all 900ms cubic-bezier(.22,1,.36,1);
text-shadow:0 0 25px rgba(255,255,255,0.35);
}
.slideIn{
opacity:1 !important;
transform:translate(-50%,-50%) scale(1);
filter:blur(0px);
transition:opacity 1.8s ease, transform 1.8s ease, filter 1.8s ease;
}

.slideOut{
opacity:0 !important;
transform:translate(-50%,-45%) scale(1.04);
filter:blur(6px);
transition:opacity 1.8s ease, transform 1.8s ease, filter 1.8s ease;
}

.star{
position:fixed;
width:2px;
height:2px;
background:#fff;
opacity:.7;
z-index:1;
animation:twinkle 2s infinite alternate;
}

@keyframes twinkle{
from{opacity:.2;transform:scale(.7)}
to{opacity:1;transform:scale(1.4)}
}

#bg{
position:fixed;
inset:0;
background:url("sky.jpg") center/cover no-repeat;
opacity:0;
transition:opacity 2.5s ease;
}

#dim{
position:fixed;
inset:0;
background:rgba(0,0,0,.55);
opacity:0;
transition:opacity 1s ease;
z-index:15;
pointer-events:none;
}

#dim.show{
opacity:1;
}

#reveal{
position:fixed;
inset:0;
background:#000;
z-index:10;
clip-path:circle(0% at 50% 50%);
animation:heartOpen 5.2s cubic-bezier(.7,.05,.2,1) forwards;
}

@keyframes heartOpen{
0%   {clip-path:circle(0% at 50% 50%);}
10%  {clip-path:circle(3% at 50% 50%);}
22%  {clip-path:circle(8% at 50% 50%);}
38%  {clip-path:circle(18% at 50% 50%);}
55%  {clip-path:circle(35% at 50% 50%);}
72%  {clip-path:circle(65% at 50% 50%);}
88%  {clip-path:circle(110% at 50% 50%);}
100% {clip-path:circle(140% at 50% 50%);}
}


/* ========== SIDE CARD ========== */

#sideCard{
position:fixed;
top:0;
right:-420px;
height:100%;
width:420px;
display:flex;
align-items:center;
justify-content:center;
z-index:40;
transition:1.2s cubic-bezier(.22,1,.36,1);
pointer-events:none;
}

#sideCard.show{
right:60px;
pointer-events:auto;
}

.cardContent{
width:320px;
padding:40px 30px;
border-radius:28px;
background:rgba(255,255,255,0.07);
backdrop-filter:blur(18px);
-webkit-backdrop-filter:blur(18px);
box-shadow:0 10px 45px rgba(255,120,200,.25);
color:white;
text-align:center;
align-items:center;
justify-content:center;
font-family:'Poppins',sans-serif;
font-size:18px;
letter-spacing:.3px;
transform-origin:center center;
}
/* when identity step starts */
.cardContent.identityMode{
width:min(92vw,460px);
min-height:260px;
padding:38px 40px;
border-radius:22px;

transition:
width .9s cubic-bezier(.22,1,.36,1),
padding .9s cubic-bezier(.22,1,.36,1),
border-radius .9s cubic-bezier(.22,1,.36,1),
transform .4s ease;
}


/* ========== HUG BUTTON ========== */

#hugBtn{
position:relative;
overflow:hidden;
width:100%;
padding:18px 22px;
border-radius:40px;
border:none;
cursor:pointer;
background:rgba(255,255,255,0.12);
color:#fff;
font-family:'Poppins',sans-serif;
font-size:16px;
letter-spacing:.3px;
transition:background .25s, box-shadow .25s, transform .15s;
-webkit-user-select:none;
user-select:none;
-webkit-touch-callout:none;
-webkit-tap-highlight-color:transparent;
}

#hugBtn:hover{
background:rgba(255,255,255,0.18);
box-shadow:0 0 25px rgba(255,105,180,.35);
transform:translateY(-2px);
}

#hugBtn::before{
content:"";
position:absolute;
inset:0;
border-radius:40px;
pointer-events:none;
background:radial-gradient(circle at var(--x,50%) var(--y,50%),
rgba(255,105,180,.55) 0%,
rgba(255,105,180,.35) 25%,
rgba(255,105,180,.18) 45%,
transparent 70%);
opacity:var(--hold,0);
transform:scale(calc(var(--hold,0) * 1.8));
transition:opacity .2s linear, transform .2s linear;
}

.heartPop{
position:absolute;
font-size:22px;
pointer-events:none;
animation:heartRise 900ms ease forwards;
z-index:9999;
}

@keyframes heartRise{
0%{transform:translateY(0) scale(.6);opacity:0;}
20%{opacity:1;}
100%{transform:translateY(-70px) scale(1.4);opacity:0;}
}

/* ========== QUIZ ========== */
#quizBox{
width:100%;
display:flex;
flex-direction:column;
align-items:center;
gap:18px;
}


.quizHeader{
text-align:center;
margin-bottom:35px;
}

.quizTitle{
font-family:'Great Vibes',cursive;
font-size:40px;
letter-spacing:.5px;
}

.divider{
width:120px;
height:1px;
margin:14px auto 0;
background:linear-gradient(90deg,transparent,#ff9bd4,transparent);
opacity:.6;
}

.quizCenter{
flex:1;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
gap:24px;
text-align:center;
}
.question{
font-family:'Cormorant Garamond',serif;
font-size:20px;
line-height:1.5;
max-width:90%;
margin:auto;

letter-spacing:.3px;
color:#fff;
opacity:0;
transform:translateY(8px);
transition:opacity .9s ease, transform .9s ease;
}
.question.show{
opacity:1;
transform:translateY(0);
}



#answerInput{
width:100%;
padding:12px 14px;
border-radius:8px;
border:1px solid rgba(255,255,255,.18);
background:rgba(0,0,0,.25);

color:white;
font-size:14px;

transition:.2s;
}

#answerInput:focus{
border:1px solid #ff4fa3;
box-shadow:0 0 0 3px rgba(255,80,160,.25);
width:100%;
box-sizing:border-box;
background:rgba(0,0,0,.35);
}


#submitBtn{
width:100%;
padding:12px;
border-radius:8px;
border:none;

background:#ff4fa3;
color:white;
font-weight:600;
font-size:14px;

transition:.25s;
}

#submitBtn:hover{
background:#ff2f92;
}


#submitBtn:active{
transform:scale(.95);
}

.response{
min-height:28px;
font-size:19px;
font-family:'Nunito',sans-serif;
opacity:.95;
max-width:90%;
margin:auto;
text-align:center;
word-break:break-word;
margin-top:12px;
transition:.35s;
}
.heartMessage{
font-family:'Dancing Script',cursive;
font-size:clamp(34px,4vw,52px);
line-height:1.5;
letter-spacing:.4px;
color:#fff;

opacity:0;
transform:translateY(10px);
animation:softReveal 1.6s ease forwards;
}

@keyframes softReveal{
to{
opacity:1;
transform:translateY(0);
}
}

/* ========== HEART ENTRY TRANSITION ========== */

.fadeOldWorld{
opacity:0 !important;
transition:opacity 2.5s ease !important;
}

.cardContent.pinkGlow{
background:linear-gradient(180deg,#ffd9f0,#ffc3ea,#ffb3e6) !important;
backdrop-filter:none !important;
-webkit-backdrop-filter:none !important;
box-shadow:0 0 120px rgba(255,150,220,.85) !important;
}

.cardContent.expandHeart{
position:fixed;
z-index:999;
transition:
width 4s cubic-bezier(.22,1,.36,1),
height 4s cubic-bezier(.22,1,.36,1),
top 4s cubic-bezier(.22,1,.36,1),
left 4s cubic-bezier(.22,1,.36,1),
border-radius 4s cubic-bezier(.22,1,.36,1),
background 3.2s ease,
box-shadow 2s ease;
backdrop-filter:none !important;
-webkit-backdrop-filter:none !important;
}
.cardContent.fullHeart{
width:100vw !important;
height:100vh !important;
top:0 !important;
left:0 !important;
border-radius:0 !important;
background:linear-gradient(180deg,#ffffff,#ffd6f3,#ff9bd4,#ff6fb7) !important;
transition:background 4s ease;
}

.wordParticle{
position:fixed;
pointer-events:none;
font-family:'Dancing Script',cursive;
color:#ffc0ea;
opacity:1;
animation:wordFloat 1.4s ease forwards;
}

@keyframes wordFloat{
0%{
opacity:1;
transform:translate(0,0) scale(1);
filter:blur(0px);
}
100%{
opacity:0;
transform:translate(var(--dx),var(--dy)) scale(.6);
filter:blur(6px);
}
}

/* ========== HEART WORLD ========== */

#heartWorld{
position:fixed;
inset:0;
z-index:1;
opacity:1;              /* always visible */
pointer-events:none;
background:url("pinksky.jpg") center/cover no-repeat;
overflow:hidden;
filter:brightness(0) saturate(1.2);
transition:filter 2.8s ease;
}

#heartWorld.show{
filter:brightness(1) saturate(1.1);
}

#heartWorld::after{
content:"";
position:absolute;
inset:0;
background:radial-gradient(circle at 50% 70%,
rgba(255,255,255,.35),
rgba(255,255,255,0) 60%);
opacity:.6;
pointer-events:none;
}

.cloud{
position:absolute;
width:420px;
height:220px;
background:radial-gradient(circle at 50% 50%,
rgba(255,255,255,.95),
rgba(255,255,255,.65) 55%,
transparent 70%);
filter:blur(18px);
opacity:.55;
animation:drift linear infinite;
}

.cloud1{top:18%;left:-30%;animation-duration:70s;}
.cloud2{top:50%;left:-40%;transform:scale(1.2);animation-duration:95s;opacity:.45;}
.cloud3{top:75%;left:-35%;transform:scale(.9);animation-duration:120s;opacity:.4;}

@keyframes drift{
from{transform:translateX(0)}
to{transform:translateX(140vw)}
}


/* ========== MOBILE ========== */

@media (max-width: 700px){
#sideCard{
right:50%;
transform:translateX(50%);
width:100%;
padding:0 18px;
}
#sideCard.show{
right:50%;
transform:translateX(50%);
}
.cardContent{
width:100%;
max-width:380px;
margin:auto;
}
#answerInput{
width:80%;
background:rgba(255,255,255,.10);
}
#submitBtn{
width:75%;
margin-top:12px;
}
.heartBtn{
font-size:70px;
}
.loveStatus{
font-size:22px;
}
}
</style>
</head>

<body>

<div id="bg"></div>
<div id="dim"></div>
<div id="reveal"></div>
<div id="story"></div>

<div id="heartWorld">
<div class="cloud cloud1"></div>
<div class="cloud cloud2"></div>
<div class="cloud cloud3"></div>
</div>



<script>
document.addEventListener("DOMContentLoaded",()=>{

/* ========== OPENING SEQUENCE ========== */

setTimeout(()=>{
document.getElementById("bg").style.opacity=1;
},3500);

setTimeout(()=>{
document.getElementById("reveal").remove();
startStory();
},8500);

const lines=[
"Hello Cutieeü•∞",
"Today is OUR first valentine",
"Long distance really sucksü•≤ü´Ç",
"I made this for you",
"To make our first valentine specialüòÅ"
];

const story=document.getElementById("story");
const dim=document.getElementById("dim");
let index=0;

function showSlides(){

story.classList.remove("slideIn","slideOut");

story.textContent=lines[index];

requestAnimationFrame(()=>{
story.classList.add("slideIn");
});

setTimeout(()=>{

story.classList.remove("slideIn");
story.classList.add("slideOut");

setTimeout(()=>{

index++;

if(index >= lines.length){
dim.classList.remove("show");
createSideCard();
return;
}

showSlides();

},1500); // pause between lines

},3800); // reading time
}


function startStory(){
setTimeout(()=>{
dim.classList.add("show");
setTimeout(showSlides,2000);
},700);
}

/* ========== SIDE CARD ========== */

function createSideCard(){
const card=document.createElement("div");
card.id="sideCard";
card.innerHTML=`
<div class="cardContent">
<button id="hugBtn">Hold here to hug me tightly ü´Ç</button>
</div>
`;
document.body.appendChild(card);
requestAnimationFrame(()=>{
card.classList.add("show");
});
}

/* ========== STARS ========== */

for(let i=0;i<60;i++){
let s=document.createElement("div");
s.className="star";
s.style.left=Math.random()*100+"vw";
s.style.top=Math.random()*100+"vh";
s.style.animationDelay=Math.random()*2+"s";
document.body.appendChild(s);
}

/* ========== HUG BUTTON ========== */

let holdInterval=null;
let activeBtn=null;
const HOLD_TIME=2600;

document.addEventListener("pointerdown",(e)=>{
const btn=e.target.closest("#hugBtn");
if(!btn) return;

activeBtn=btn;
const rect=btn.getBoundingClientRect();
const x=((e.clientX-rect.left)/rect.width)*100;
const y=((e.clientY-rect.top)/rect.height)*100;

btn.style.setProperty("--x",x+"%");
btn.style.setProperty("--y",y+"%");
btn.style.setProperty("--hold","0");

let start=performance.now();

holdInterval=setInterval(()=>{
let progress=(performance.now()-start)/HOLD_TIME;
if(progress>1) progress=1;

btn.style.setProperty("--hold",progress.toFixed(3));

if(progress>=1){
clearInterval(holdInterval);
activeBtn=null;
hugComplete(btn);
}
},16);
});

document.addEventListener("pointerup",cancelHold);
document.addEventListener("pointercancel",cancelHold);

function cancelHold(){
if(!activeBtn) return;
clearInterval(holdInterval);
activeBtn.style.transition="--hold .3s ease";
activeBtn.style.setProperty("--hold","0");
setTimeout(()=>{
if(activeBtn) activeBtn.style.transition="";
activeBtn=null;
},300);
}

function hugComplete(btn){
btn.style.setProperty("--hold","1");

for(let i=0;i<12;i++){

const heart=document.createElement("div");
heart.className="heartPop";
heart.textContent=["üíó","üíñ","üíï","‚ù§Ô∏è"][Math.floor(Math.random()*4)];

const rect=btn.getBoundingClientRect();

const angle=Math.random()*Math.PI*2;
const distance=40+Math.random()*80;

heart.style.left=(rect.left+rect.width/2 + Math.cos(angle)*distance)+"px";
heart.style.top=(rect.top+rect.height/2 + Math.sin(angle)*distance)+"px";
heart.style.fontSize=(22+Math.random()*18)+"px";

document.body.appendChild(heart);
setTimeout(()=>heart.remove(),900);
}

const card = btn.closest(".cardContent");

/* Step 1: expand card */
setTimeout(()=>{
card.classList.add("identityMode");
},250);

/* Step 2: after expansion finishes, load quiz */
setTimeout(()=>{
expandCard(card);

/* Step 3: fade quiz in */
setTimeout(()=>{
document.getElementById("quizBox").style.opacity=1;
},80);

},950);

}
/* ========== QUIZ ========== */

function expandCard(card){
card.innerHTML=`
<div id="quizBox" style="opacity:0; transition:opacity .8s ease;">
<div class="quizHeader">
<div class="quizTitle">Prove that you're my Babyy ü•∫‚ù§Ô∏è</div>
<div class="divider"></div>
</div>
<div class="quizCenter">
<div id="questionText" class="question"></div>
<input id="answerInput" type="text" placeholder="type your answer..." autocomplete="off">
<button id="submitBtn">Send üíå</button>
<div id="responseText" class="response"></div>
</div>
</div>
`;
startQuiz();
}

const quiz=[
{
question:"What name did you save me as in your phone?",
answers:["baby","babyy","my baby"],
correct:"üíó hehe correct",
wrong:"nope try again üòå"
},
{
question:"What do you call me when it's just us?",
answers:["cutie","love","idiot"],
correct:"i like that one ü§≠",
wrong:"hmmm not that"
},
{
question:"What always makes me happiest?",
answers:["hug","kiss","talk","call"],
correct:"exactly ‚ù§Ô∏è",
wrong:"almost... think again"
}
];

let qIndex=0;

function startQuiz(){
showQuestion();
}

function showQuestion(){
const q=quiz[qIndex];
const qBox=document.getElementById("questionText");
const input=document.getElementById("answerInput");
const response=document.getElementById("responseText");

response.textContent="";
input.value="";
qBox.classList.remove("show");
qBox.textContent=q.question;

setTimeout(()=>{
qBox.classList.add("show");
input.focus();
},120);
}

document.addEventListener("click",(e)=>{
if(e.target.matches("#submitBtn")){
checkAnswer();
}
});

document.addEventListener("keydown",(e)=>{
   if(e.key==="Enter" && document.activeElement.id==="answerInput"){
      const btn=document.getElementById("submitBtn");
      if(btn) btn.click();
   }
});


function checkAnswer(){
const input=document.getElementById("answerInput");
if(!input) return;

const user=input.value.toLowerCase().trim();
const q=quiz[qIndex];
const response=document.getElementById("responseText");
const correct=q.answers.some(a=>user.includes(a));

if(correct){
response.textContent=q.correct;
response.style.color="#ffb3da";

setTimeout(()=>{
qIndex++;
if(qIndex<quiz.length){
showQuestion();
}else{
quizComplete();
}
},900);
}else{
response.textContent=q.wrong;
response.style.color="#ffd6ec";
}
}

/* ========== QUIZ COMPLETE ‚Üí MESSAGES ‚Üí HEART ENTRY ========== */
function quizComplete(){
const card=document.querySelector(".cardContent");

// Message 1
card.innerHTML=`
<div class="finalOpen" style="font-family:'Dancing Script',cursive;font-size:42px;line-height:1.4;">
Yayy finally üíó<br>
You proved that you're my babyy
</div>
`;

// Message 2 after 2.5s
setTimeout(()=>{
card.style.opacity=0;

setTimeout(()=>{
card.innerHTML=`
<div class="heartMessage">
Come‚Ä¶<br>
we‚Äôre going inside my heart
</div>
`;
card.style.opacity=1;

// dissolve ‚Üí then expand
setTimeout(()=>{
const msg = card.querySelector(".heartMessage");
dissolveText(msg);

setTimeout(()=>{
enterHeartWorld(card);
},1200);

},2500);

},600);
},2500);
}
function dissolveText(element){

const text = element.innerText;
const rect = element.getBoundingClientRect();

element.style.opacity="0";

[...text].forEach((char)=>{
if(char===" ") return;

const span=document.createElement("span");
span.className="wordParticle";
span.textContent=char;

document.body.appendChild(span);

const x = rect.left + Math.random()*rect.width;
const y = rect.top + Math.random()*rect.height;

span.style.left=x+"px";
span.style.top=y+"px";

const dx=(Math.random()-0.5)*180+"px";
const dy=(-120 - Math.random()*160)+"px";

span.style.setProperty("--dx",dx);
span.style.setProperty("--dy",dy);

setTimeout(()=>span.remove(),1400);

});
}

function enterHeartWorld(card){

// fade old elements
document.getElementById("bg")?.classList.add("fadeOldWorld");
document.getElementById("dim")?.classList.add("fadeOldWorld");
document.querySelectorAll(".star").forEach(s=>s.classList.add("fadeOldWorld"));

const rect = card.getBoundingClientRect();

// freeze card exactly where it is
card.style.position = "fixed";
card.style.top = rect.top + "px";
card.style.left = rect.left + "px";
card.style.width = rect.width + "px";
card.style.height = rect.height + "px";

// allow animation
card.classList.add("expandHeart");

// next frame ‚Üí grow to screen
requestAnimationFrame(()=>{
card.classList.add("fullHeart");
});

// after animation finishes ‚Üí show heart world
setTimeout(()=>{

// hold pink moment
setTimeout(()=>{
document.getElementById("heartWorld").classList.add("show");

setTimeout(()=>{
card.remove();
},2000);

},1400);

},4000);
}


});

</script>

</body>
</html>
